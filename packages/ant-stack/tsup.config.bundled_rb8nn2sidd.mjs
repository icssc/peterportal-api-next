// tsup.config.ts
import path4 from "node:path";
import { defineConfig } from "tsup";

// src/utils/directories.ts
import fs from "node:fs";
import path from "node:path";
function findFilesRecursively(directory) {
  return fs
    .readdirSync(directory)
    .map((name) => path.join(directory, name))
    .flatMap((fileOrDirectory) =>
      fs.statSync(fileOrDirectory).isDirectory()
        ? findFilesRecursively(fileOrDirectory)
        : fileOrDirectory
    );
}

// src/utils/execute-jit.ts
import path2 from "node:path";
import createJITI from "jiti";

// src/utils/files.ts
import fs2 from "node:fs";
import os from "node:os";
import path3 from "node:path";

// src/utils/static-analysis.ts
import fs3 from "node:fs";
import { parse } from "acorn";

// src/utils/wait-for-stack-idle.ts
import {
  DescribeStacksCommand,
  StackStatus,
  waitUntilStackCreateComplete,
  waitUntilStackDeleteComplete,
  waitUntilStackUpdateComplete,
} from "@aws-sdk/client-cloudformation";

// tsup.config.ts
var constructDirectory = "src/cdk/constructs";
var allFilesInConstructs = findFilesRecursively(constructDirectory);
var constructs = allFilesInConstructs
  .filter((file) => path4.extname(file) === ".ts")
  .filter((file) => {
    const directory = path4.dirname(file);
    const fileName = path4.basename(file, ".ts");
    return fileName === "index" || directory !== fileName;
  })
  .map((file) => path4.parse(file))
  .reduce((constructEntryPoints, file) => {
    console.log({ file });
    const name =
      file.name === "index"
        ? path4.relative(constructDirectory, file.dir)
        : path4.join(path4.relative(constructDirectory, file.dir), file.name);
    constructEntryPoints[`constructs/${name}`] = file.dir;
    return constructEntryPoints;
  }, {});
var tsup_config_default = defineConfig({
  entry: {
    cli: "src/cli/index.ts",
    config: "src/config.ts",
    "lambda-core": "src/lambda-core/index.ts",
    utils: "src/utils/index.ts",
    ...constructs,
  },
  bundle: true,
  format: ["esm"],
  sourcemap: true,
  dts: true,
  splitting: false,
  clean: true,
  shims: true,
});
export { tsup_config_default as default };
//# sourceMappingURL=data:application/json;base64,ewogICJ2ZXJzaW9uIjogMywKICAic291cmNlcyI6IFsidHN1cC5jb25maWcudHMiLCAic3JjL3V0aWxzL2RpcmVjdG9yaWVzLnRzIiwgInNyYy91dGlscy9leGVjdXRlLWppdC50cyIsICJzcmMvdXRpbHMvZmlsZXMudHMiLCAic3JjL3V0aWxzL3N0YXRpYy1hbmFseXNpcy50cyIsICJzcmMvdXRpbHMvd2FpdC1mb3Itc3RhY2staWRsZS50cyJdLAogICJzb3VyY2VzQ29udGVudCI6IFsiY29uc3QgX19pbmplY3RlZF9maWxlbmFtZV9fID0gXCIvaG9tZS9hcG9uaWEvUHJvamVjdHMvdHlwZXNjcmlwdC9wZXRlcnBvcnRhbC1hcGktbmV4dC9wYWNrYWdlcy9hbnQtc3RhY2svdHN1cC5jb25maWcudHNcIjtjb25zdCBfX2luamVjdGVkX2Rpcm5hbWVfXyA9IFwiL2hvbWUvYXBvbmlhL1Byb2plY3RzL3R5cGVzY3JpcHQvcGV0ZXJwb3J0YWwtYXBpLW5leHQvcGFja2FnZXMvYW50LXN0YWNrXCI7Y29uc3QgX19pbmplY3RlZF9pbXBvcnRfbWV0YV91cmxfXyA9IFwiZmlsZTovLy9ob21lL2Fwb25pYS9Qcm9qZWN0cy90eXBlc2NyaXB0L3BldGVycG9ydGFsLWFwaS1uZXh0L3BhY2thZ2VzL2FudC1zdGFjay90c3VwLmNvbmZpZy50c1wiO2ltcG9ydCBwYXRoIGZyb20gXCJub2RlOnBhdGhcIjtcbmltcG9ydCB7IGRlZmluZUNvbmZpZyB9IGZyb20gXCJ0c3VwXCI7XG5cbmltcG9ydCB7IGZpbmRGaWxlc1JlY3Vyc2l2ZWx5IH0gZnJvbSBcIi4vc3JjL3V0aWxzXCI7XG5cbmNvbnN0IGNvbnN0cnVjdERpcmVjdG9yeSA9IFwic3JjL2Nkay9jb25zdHJ1Y3RzXCJcblxuY29uc3QgYWxsRmlsZXNJbkNvbnN0cnVjdHMgPSBmaW5kRmlsZXNSZWN1cnNpdmVseShjb25zdHJ1Y3REaXJlY3RvcnkpXG5cbmNvbnN0IGNvbnN0cnVjdHMgPSBhbGxGaWxlc0luQ29uc3RydWN0c1xuICAuZmlsdGVyKChmaWxlKSA9PiBwYXRoLmV4dG5hbWUoZmlsZSkgPT09IFwiLnRzXCIpXG4gIC5maWx0ZXIoKGZpbGUpID0+IHtcbiAgICAvKipcbiAgICAgKiBJdCdzIGVpdGhlciBpbmRleC50cyBvciB0aGUgZGlyZWN0b3J5IGlzIG5vdCB0aGUgc2FtZSBhcyB0aGUgZmlsZSBuYW1lXG4gICAgICovXG4gICAgY29uc3QgZGlyZWN0b3J5ID0gcGF0aC5kaXJuYW1lKGZpbGUpO1xuICAgIGNvbnN0IGZpbGVOYW1lID0gcGF0aC5iYXNlbmFtZShmaWxlLCBcIi50c1wiKTtcbiAgICByZXR1cm4gZmlsZU5hbWUgPT09IFwiaW5kZXhcIiB8fCBkaXJlY3RvcnkgIT09IGZpbGVOYW1lO1xuICB9KVxuICAubWFwKChmaWxlKSA9PiBwYXRoLnBhcnNlKGZpbGUpKVxuICAucmVkdWNlKChjb25zdHJ1Y3RFbnRyeVBvaW50cywgZmlsZSkgPT4ge1xuICAgIGNvbnNvbGUubG9nKHsgZmlsZSB9KVxuICAgIGNvbnN0IG5hbWUgPSBmaWxlLm5hbWUgPT09IFwiaW5kZXhcIlxuICAgICAgPyBwYXRoLnJlbGF0aXZlKGNvbnN0cnVjdERpcmVjdG9yeSwgZmlsZS5kaXIpXG4gICAgICA6IHBhdGguam9pbihwYXRoLnJlbGF0aXZlKGNvbnN0cnVjdERpcmVjdG9yeSwgZmlsZS5kaXIpLCBmaWxlLm5hbWUpO1xuXG4gICAgY29uc3RydWN0RW50cnlQb2ludHNbYGNvbnN0cnVjdHMvJHtuYW1lfWBdID0gZmlsZS5kaXI7XG5cbiAgICByZXR1cm4gY29uc3RydWN0RW50cnlQb2ludHM7XG4gIH0sIHt9IGFzIFJlY29yZDxzdHJpbmcsIHN0cmluZz4pXG5cbmV4cG9ydCBkZWZhdWx0IGRlZmluZUNvbmZpZyh7XG4gIGVudHJ5OiB7XG4gICAgY2xpOiBcInNyYy9jbGkvaW5kZXgudHNcIixcbiAgICBjb25maWc6IFwic3JjL2NvbmZpZy50c1wiLFxuICAgIFwibGFtYmRhLWNvcmVcIjogXCJzcmMvbGFtYmRhLWNvcmUvaW5kZXgudHNcIixcbiAgICB1dGlsczogXCJzcmMvdXRpbHMvaW5kZXgudHNcIixcbiAgICAuLi5jb25zdHJ1Y3RzLFxuICB9LFxuICBidW5kbGU6IHRydWUsXG4gIGZvcm1hdDogW1wiZXNtXCJdLFxuICBzb3VyY2VtYXA6IHRydWUsXG4gIGR0czogdHJ1ZSxcbiAgc3BsaXR0aW5nOiBmYWxzZSxcbiAgY2xlYW46IHRydWUsXG4gIHNoaW1zOiB0cnVlLFxufSk7XG4iLCAiY29uc3QgX19pbmplY3RlZF9maWxlbmFtZV9fID0gXCIvaG9tZS9hcG9uaWEvUHJvamVjdHMvdHlwZXNjcmlwdC9wZXRlcnBvcnRhbC1hcGktbmV4dC9wYWNrYWdlcy9hbnQtc3RhY2svc3JjL3V0aWxzL2RpcmVjdG9yaWVzLnRzXCI7Y29uc3QgX19pbmplY3RlZF9kaXJuYW1lX18gPSBcIi9ob21lL2Fwb25pYS9Qcm9qZWN0cy90eXBlc2NyaXB0L3BldGVycG9ydGFsLWFwaS1uZXh0L3BhY2thZ2VzL2FudC1zdGFjay9zcmMvdXRpbHNcIjtjb25zdCBfX2luamVjdGVkX2ltcG9ydF9tZXRhX3VybF9fID0gXCJmaWxlOi8vL2hvbWUvYXBvbmlhL1Byb2plY3RzL3R5cGVzY3JpcHQvcGV0ZXJwb3J0YWwtYXBpLW5leHQvcGFja2FnZXMvYW50LXN0YWNrL3NyYy91dGlscy9kaXJlY3Rvcmllcy50c1wiO2ltcG9ydCBmcyBmcm9tIFwibm9kZTpmc1wiO1xuaW1wb3J0IHBhdGggZnJvbSBcIm5vZGU6cGF0aFwiO1xuXG5leHBvcnQgZnVuY3Rpb24gZ2V0RGlyZWN0b3JpZXMoc291cmNlOiBzdHJpbmcpIHtcbiAgcmV0dXJuIGZzLmV4aXN0c1N5bmMoc291cmNlKVxuICAgID8gZnNcbiAgICAgIC5yZWFkZGlyU3luYyhzb3VyY2UpXG4gICAgICAubWFwKChuYW1lKSA9PiBwYXRoLmpvaW4oc291cmNlLCBuYW1lKSlcbiAgICAgIC5maWx0ZXIoKHNvdXJjZSkgPT4gZnMubHN0YXRTeW5jKHNvdXJjZSkuaXNEaXJlY3RvcnkoKSlcbiAgICA6IFtdO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaXNGaWxlUmVhZGFibGUoZmlsZW5hbWU6IHN0cmluZyk6IGJvb2xlYW4ge1xuICB0cnkge1xuICAgIC8vIFRoZSBcInRocm93SWZOb0VudHJ5XCIgaXMgYSBwZXJmb3JtYW5jZSBvcHRpbWl6YXRpb24gZm9yIGNhc2VzIHdoZXJlIHRoZSBmaWxlIGRvZXMgbm90IGV4aXN0XG4gICAgaWYgKCFmcy5zdGF0U3luYyhmaWxlbmFtZSwgeyB0aHJvd0lmTm9FbnRyeTogZmFsc2UgfSkpIHtcbiAgICAgIHJldHVybiBmYWxzZTtcbiAgICB9XG5cbiAgICAvLyBDaGVjayBpZiBjdXJyZW50IHByb2Nlc3MgaGFzIHJlYWQgcGVybWlzc2lvbiB0byB0aGUgZmlsZVxuICAgIGZzLmFjY2Vzc1N5bmMoZmlsZW5hbWUsIGZzLmNvbnN0YW50cy5SX09LKTtcblxuICAgIHJldHVybiB0cnVlO1xuICB9IGNhdGNoIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cbn1cblxuLy8gaHR0cHM6Ly9naXRodWIuY29tL3ZpdGVqcy92aXRlL2lzc3Vlcy8yODIwI2lzc3VlY29tbWVudC04MTI0OTUwNzlcbmNvbnN0IFJPT1RfRklMRVMgPSBbXG4gIC8vICcuZ2l0JyxcblxuICAvLyBodHRwczovL3BucG0uaW8vd29ya3NwYWNlcy9cbiAgXCJwbnBtLXdvcmtzcGFjZS55YW1sXCIsXG5cbiAgLy8gaHR0cHM6Ly9ydXNoanMuaW8vcGFnZXMvYWR2YW5jZWQvY29uZmlnX2ZpbGVzL1xuICAvLyAncnVzaC5qc29uJyxcblxuICAvLyBodHRwczovL254LmRldi9sYXRlc3QvcmVhY3QvZ2V0dGluZy1zdGFydGVkL254LXNldHVwXG4gIC8vICd3b3Jrc3BhY2UuanNvbicsXG4gIC8vICdueC5qc29uJyxcblxuICAvLyBodHRwczovL2dpdGh1Yi5jb20vbGVybmEvbGVybmEjbGVybmFqc29uXG4gIFwibGVybmEuanNvblwiLFxuXTtcblxuLy8gbnBtOiBodHRwczovL2RvY3MubnBtanMuY29tL2NsaS92Ny91c2luZy1ucG0vd29ya3NwYWNlcyNpbnN0YWxsaW5nLXdvcmtzcGFjZXNcbi8vIHlhcm46IGh0dHBzOi8vY2xhc3NpYy55YXJucGtnLmNvbS9lbi9kb2NzL3dvcmtzcGFjZXMvI3RvYy1ob3ctdG8tdXNlLWl0XG5leHBvcnQgZnVuY3Rpb24gaGFzV29ya3NwYWNlUGFja2FnZUpTT04ocm9vdDogc3RyaW5nKTogYm9vbGVhbiB7XG4gIGNvbnN0IGN1cnJlbnREaXJlY3RvcnlQYWNrYWdlSnNvbiA9IHBhdGguam9pbihyb290LCBcInBhY2thZ2UuanNvblwiKTtcblxuICBpZiAoIWlzRmlsZVJlYWRhYmxlKGN1cnJlbnREaXJlY3RvcnlQYWNrYWdlSnNvbikpIHtcbiAgICByZXR1cm4gZmFsc2U7XG4gIH1cblxuICBjb25zdCBjb250ZW50ID0gSlNPTi5wYXJzZShmcy5yZWFkRmlsZVN5bmMoY3VycmVudERpcmVjdG9yeVBhY2thZ2VKc29uLCBcInV0Zi04XCIpKSB8fCB7fTtcbiAgcmV0dXJuICEhY29udGVudC53b3Jrc3BhY2VzO1xufVxuXG5leHBvcnQgZnVuY3Rpb24gaGFzUm9vdEZpbGUocm9vdDogc3RyaW5nKTogYm9vbGVhbiB7XG4gIHJldHVybiBST09UX0ZJTEVTLnNvbWUoKGZpbGUpID0+IGZzLmV4aXN0c1N5bmMocGF0aC5qb2luKHJvb3QsIGZpbGUpKSk7XG59XG5cbmV4cG9ydCBmdW5jdGlvbiBoYXNQYWNrYWdlSlNPTihyb290OiBzdHJpbmcpIHtcbiAgY29uc3QgY3VycmVudERpcmVjdG9yeVBhY2thZ2VKc29uID0gcGF0aC5qb2luKHJvb3QsIFwicGFja2FnZS5qc29uXCIpO1xuICByZXR1cm4gZnMuZXhpc3RzU3luYyhjdXJyZW50RGlyZWN0b3J5UGFja2FnZUpzb24pO1xufVxuXG4vKipcbiAqIFNlYXJjaCB1cCBmb3IgdGhlIG5lYXJlc3QgYHBhY2thZ2UuanNvbmAsIGkuZS4gdGhlIGN1cnJlbnQgcHJvamVjdCByb290LlxuICovXG5leHBvcnQgZnVuY3Rpb24gZ2V0Q2xvc2VzdFByb2plY3REaXJlY3RvcnkoY3VycmVudDogc3RyaW5nLCByb290ID0gY3VycmVudCk6IHN0cmluZyB7XG4gIGlmIChoYXNQYWNrYWdlSlNPTihjdXJyZW50KSkge1xuICAgIHJldHVybiBjdXJyZW50O1xuICB9XG5cbiAgY29uc3QgY3VycmVudERpcmVjdG9yeSA9IHBhdGguZGlybmFtZShjdXJyZW50KTtcblxuICAvLyByZWFjaCB0aGUgZnMgcm9vdFxuICBpZiAoIWN1cnJlbnREaXJlY3RvcnkgfHwgY3VycmVudERpcmVjdG9yeSA9PT0gY3VycmVudCkge1xuICAgIHJldHVybiByb290O1xuICB9XG5cbiAgcmV0dXJuIGdldENsb3Nlc3RQcm9qZWN0RGlyZWN0b3J5KGN1cnJlbnREaXJlY3RvcnksIHJvb3QpO1xufVxuXG4vKipcbiAqIFNlYXJjaCB1cCBmb3IgdGhlIG5lYXJlc3Qgd29ya3NwYWNlIHJvb3QuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXRXb3Jrc3BhY2VSb290KFxuICBjdXJyZW50OiBzdHJpbmcsXG4gIHJvb3QgPSBnZXRDbG9zZXN0UHJvamVjdERpcmVjdG9yeShjdXJyZW50KVxuKTogc3RyaW5nIHtcbiAgaWYgKGhhc1Jvb3RGaWxlKGN1cnJlbnQpIHx8IGhhc1dvcmtzcGFjZVBhY2thZ2VKU09OKGN1cnJlbnQpKSB7XG4gICAgcmV0dXJuIGN1cnJlbnQ7XG4gIH1cblxuICBjb25zdCBjdXJyZW50RGlyZWN0b3J5ID0gcGF0aC5kaXJuYW1lKGN1cnJlbnQpO1xuXG4gIC8vIHJlYWNoIHRoZSBmcyByb290XG4gIGlmICghY3VycmVudERpcmVjdG9yeSB8fCBjdXJyZW50RGlyZWN0b3J5ID09PSBjdXJyZW50KSB7XG4gICAgcmV0dXJuIHJvb3Q7XG4gIH1cblxuICByZXR1cm4gZ2V0V29ya3NwYWNlUm9vdChjdXJyZW50RGlyZWN0b3J5LCByb290KTtcbn1cblxuZXhwb3J0IGZ1bmN0aW9uIGZpbmRGaWxlc1JlY3Vyc2l2ZWx5KGRpcmVjdG9yeTogc3RyaW5nKTogc3RyaW5nW10ge1xuICByZXR1cm4gZnNcbiAgICAucmVhZGRpclN5bmMoZGlyZWN0b3J5KVxuICAgIC5tYXAoKG5hbWUpID0+IHBhdGguam9pbihkaXJlY3RvcnksIG5hbWUpKVxuICAgIC5mbGF0TWFwKChmaWxlT3JEaXJlY3RvcnkpID0+XG4gICAgICBmcy5zdGF0U3luYyhmaWxlT3JEaXJlY3RvcnkpLmlzRGlyZWN0b3J5KClcbiAgICAgICAgPyBmaW5kRmlsZXNSZWN1cnNpdmVseShmaWxlT3JEaXJlY3RvcnkpXG4gICAgICAgIDogZmlsZU9yRGlyZWN0b3J5XG4gICAgKTtcbn1cblxuLyoqXG4gKiBSZWN1cnNpdmVseSBmaW5kIGFsbCBwYXRocyB0byBwcm9qZWN0cyBzdGFydGluZyBmcm9tIGEgZ2l2ZW4gcm9vdCBkaXJlY3RvcnkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaW5kQWxsUHJvamVjdHMocm9vdCA9IFwiLlwiKTogc3RyaW5nW10ge1xuICBjb25zdCBhbGxQcm9qZWN0cyA9IGZpbmRTdWJQcm9qZWN0cyhyb290KTtcbiAgY29uc3QgZGVkdXBlZFByb2plY3RzID0gWy4uLm5ldyBTZXQoYWxsUHJvamVjdHMpXTtcbiAgcmV0dXJuIGRlZHVwZWRQcm9qZWN0cztcbn1cblxuLyoqXG4gKiBSZWN1cnNpdmVseSBmaW5kIGFsbCBwYXRocyB0byBwcm9qZWN0cyBzdGFydGluZyBmcm9tIGEgZ2l2ZW4gcm9vdCBkaXJlY3RvcnkuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBmaW5kU3ViUHJvamVjdHMocm9vdCA9IFwiLlwiLCBkaXJlY3RvcnkgPSBcIlwiLCBwYXRoczogc3RyaW5nW10gPSBbXSk6IHN0cmluZ1tdIHtcbiAgaWYgKGZzLmV4aXN0c1N5bmMoYCR7cm9vdH0vJHtkaXJlY3Rvcnl9L3BhY2thZ2UuanNvbmApKSB7XG4gICAgcGF0aHMucHVzaChwYXRoLmpvaW4ocm9vdCwgZGlyZWN0b3J5KSk7XG4gICAgcmV0dXJuIHBhdGhzO1xuICB9XG5cbiAgY29uc3Qgc3ViUm91dGVzID0gZnNcbiAgICAucmVhZGRpclN5bmMoYCR7cm9vdH0vJHtkaXJlY3Rvcnl9YCwgeyB3aXRoRmlsZVR5cGVzOiB0cnVlIH0pXG4gICAgLmZpbHRlcigoZGlyZW50KSA9PiBkaXJlbnQuaXNEaXJlY3RvcnkoKSlcbiAgICAubWFwKChkaXJlbnQpID0+IGRpcmVudC5uYW1lKTtcblxuICByZXR1cm4gc3ViUm91dGVzLmZsYXRNYXAoKHN1YlJvdXRlKSA9PiBmaW5kU3ViUHJvamVjdHMocm9vdCwgYCR7ZGlyZWN0b3J5fS8ke3N1YlJvdXRlfWAsIHBhdGhzKSk7XG59XG4iLCAiY29uc3QgX19pbmplY3RlZF9maWxlbmFtZV9fID0gXCIvaG9tZS9hcG9uaWEvUHJvamVjdHMvdHlwZXNjcmlwdC9wZXRlcnBvcnRhbC1hcGktbmV4dC9wYWNrYWdlcy9hbnQtc3RhY2svc3JjL3V0aWxzL2V4ZWN1dGUtaml0LnRzXCI7Y29uc3QgX19pbmplY3RlZF9kaXJuYW1lX18gPSBcIi9ob21lL2Fwb25pYS9Qcm9qZWN0cy90eXBlc2NyaXB0L3BldGVycG9ydGFsLWFwaS1uZXh0L3BhY2thZ2VzL2FudC1zdGFjay9zcmMvdXRpbHNcIjtjb25zdCBfX2luamVjdGVkX2ltcG9ydF9tZXRhX3VybF9fID0gXCJmaWxlOi8vL2hvbWUvYXBvbmlhL1Byb2plY3RzL3R5cGVzY3JpcHQvcGV0ZXJwb3J0YWwtYXBpLW5leHQvcGFja2FnZXMvYW50LXN0YWNrL3NyYy91dGlscy9leGVjdXRlLWppdC50c1wiO2ltcG9ydCBwYXRoIGZyb20gXCJub2RlOnBhdGhcIjtcblxuaW1wb3J0IGNyZWF0ZUpJVEksIHsgdHlwZSBKSVRJT3B0aW9ucyB9IGZyb20gXCJqaXRpXCI7XG5cbmNvbnN0IGRlZmF1bHRKaXRpT3B0aW9uczogSklUSU9wdGlvbnMgPSB7XG4gIGludGVyb3BEZWZhdWx0OiB0cnVlLFxuICBjYWNoZTogZmFsc2UsXG4gIHY4Y2FjaGU6IGZhbHNlLFxuICBlc21SZXNvbHZlOiB0cnVlLFxuICByZXF1aXJlQ2FjaGU6IGZhbHNlLFxufTtcblxuZXhwb3J0IGZ1bmN0aW9uIGV4ZWN1dGVKaXQoXG4gIGZpbGU6IHN0cmluZyxcbiAgb3B0aW9uczogSklUSU9wdGlvbnMgPSBkZWZhdWx0Sml0aU9wdGlvbnMsXG4gIG9yaWdpbiA9IHBhdGgucmVzb2x2ZSgpXG4pIHtcbiAgY29uc3Qgaml0aSA9IGNyZWF0ZUpJVEkob3JpZ2luLCBvcHRpb25zKTtcbiAgY29uc3QgZXhlY3V0ZWQgPSBqaXRpKGZpbGUpO1xuICByZXR1cm4gZXhlY3V0ZWQ7XG59XG4iLCAiY29uc3QgX19pbmplY3RlZF9maWxlbmFtZV9fID0gXCIvaG9tZS9hcG9uaWEvUHJvamVjdHMvdHlwZXNjcmlwdC9wZXRlcnBvcnRhbC1hcGktbmV4dC9wYWNrYWdlcy9hbnQtc3RhY2svc3JjL3V0aWxzL2ZpbGVzLnRzXCI7Y29uc3QgX19pbmplY3RlZF9kaXJuYW1lX18gPSBcIi9ob21lL2Fwb25pYS9Qcm9qZWN0cy90eXBlc2NyaXB0L3BldGVycG9ydGFsLWFwaS1uZXh0L3BhY2thZ2VzL2FudC1zdGFjay9zcmMvdXRpbHNcIjtjb25zdCBfX2luamVjdGVkX2ltcG9ydF9tZXRhX3VybF9fID0gXCJmaWxlOi8vL2hvbWUvYXBvbmlhL1Byb2plY3RzL3R5cGVzY3JpcHQvcGV0ZXJwb3J0YWwtYXBpLW5leHQvcGFja2FnZXMvYW50LXN0YWNrL3NyYy91dGlscy9maWxlcy50c1wiO2ltcG9ydCBmcyBmcm9tIFwibm9kZTpmc1wiO1xuaW1wb3J0IG9zIGZyb20gXCJub2RlOm9zXCI7XG5pbXBvcnQgcGF0aCBmcm9tIFwibm9kZTpwYXRoXCI7XG5cbmltcG9ydCBwYWNrYWdlSnNvbiBmcm9tIFwiLi4vLi4vcGFja2FnZS5qc29uXCI7XG5cbmV4cG9ydCBmdW5jdGlvbiBjcmVhdGVUZW1wb3JhcnlGaWxlKGZpbGVOYW1lID0gXCJ0ZW1wXCIsIGNvbnRlbnQgPSBcIlwiKTogc3RyaW5nIHtcbiAgY29uc3QgdGVtcG9yYXJ5RGlyZWN0b3J5ID0gZnMubWtkdGVtcFN5bmMocGF0aC5qb2luKG9zLnRtcGRpcigpLCBwYWNrYWdlSnNvbi5uYW1lKSk7XG5cbiAgY29uc3QgdGVtcG9yYXJ5RmlsZSA9IHBhdGguam9pbih0ZW1wb3JhcnlEaXJlY3RvcnksIGZpbGVOYW1lKTtcblxuICBmcy53cml0ZUZpbGVTeW5jKHRlbXBvcmFyeUZpbGUsIGNvbnRlbnQpO1xuXG4gIHJldHVybiB0ZW1wb3JhcnlGaWxlO1xufVxuIiwgImNvbnN0IF9faW5qZWN0ZWRfZmlsZW5hbWVfXyA9IFwiL2hvbWUvYXBvbmlhL1Byb2plY3RzL3R5cGVzY3JpcHQvcGV0ZXJwb3J0YWwtYXBpLW5leHQvcGFja2FnZXMvYW50LXN0YWNrL3NyYy91dGlscy9zdGF0aWMtYW5hbHlzaXMudHNcIjtjb25zdCBfX2luamVjdGVkX2Rpcm5hbWVfXyA9IFwiL2hvbWUvYXBvbmlhL1Byb2plY3RzL3R5cGVzY3JpcHQvcGV0ZXJwb3J0YWwtYXBpLW5leHQvcGFja2FnZXMvYW50LXN0YWNrL3NyYy91dGlsc1wiO2NvbnN0IF9faW5qZWN0ZWRfaW1wb3J0X21ldGFfdXJsX18gPSBcImZpbGU6Ly8vaG9tZS9hcG9uaWEvUHJvamVjdHMvdHlwZXNjcmlwdC9wZXRlcnBvcnRhbC1hcGktbmV4dC9wYWNrYWdlcy9hbnQtc3RhY2svc3JjL3V0aWxzL3N0YXRpYy1hbmFseXNpcy50c1wiO2ltcG9ydCBmcyBmcm9tIFwibm9kZTpmc1wiO1xuXG5pbXBvcnQgeyBwYXJzZSwgdHlwZSBPcHRpb25zLCB0eXBlIEV4dGVuZE5vZGUgfSBmcm9tIFwiYWNvcm5cIjtcbmltcG9ydCB0eXBlIHsgRXhwb3J0TmFtZWREZWNsYXJhdGlvbiB9IGZyb20gXCJlc3RyZWVcIjtcblxudHlwZSBOYW1lZEV4cG9ydE5vZGUgPSBFeHRlbmROb2RlPEV4cG9ydE5hbWVkRGVjbGFyYXRpb24+O1xuXG5jb25zdCBkZWZhdWx0UGFyc2VPcHRpb25zOiBPcHRpb25zID0ge1xuICBlY21hVmVyc2lvbjogXCJsYXRlc3RcIixcbiAgc291cmNlVHlwZTogXCJtb2R1bGVcIixcbn07XG5cbi8qKlxuICogSW4gb3JkZXIgdG8gZHluYW1pY2FsbHkgZ2VuZXJhdGUgcnVudGltZSBmaWxlcywgYWxsb2NhdGUgQVBJIEdhdGV3YXkgcm91dGVzLCBldGMuXG4gKiB0aGUgYnVpbHQgZW50cnkgKGhhbmRsZXJzKSBmaWxlJ3MgbmFtZWQgZXhwb3J0cyBuZWVkIHRvIGJlIHN0YXRpY2FsbHkgYW5hbHl6ZWQsXG4gKiB3aGljaCBpbmRpY2F0ZXMgdGhlIEhUVFAgbWV0aG9kcyBpdCBzdXBwb3J0cy5cbiAqXG4gKiBAZXhhbXBsZVxuICpcbiAqIGBgYHRzXG4gKlxuICogZXhwb3J0IGNvbnN0IEdFVDogSW50ZXJuYWxIYW5kbGVyID0gYXN5bmMgKGV2ZW50KSA9PiB7IC4uLiB9XG4gKiBleHBvcnQgY29uc3QgUE9TVDogSW50ZXJuYWxIYW5kbGVyID0gYXN5bmMgKGV2ZW50KSA9PiB7IC4uLiB9XG4gKlxuICogYGBgXG4gKlxuICogTmFtZWQgZXhwb3J0cyBvZiBhYm92ZSBtb2R1bGU6IFtcIkdFVFwiLCBcIlBPU1RcIl1cbiAqXG4gKiBAcGFyYW0gZmlsZSBUaGUgcGF0aCB0byB0aGUgZmlsZSB0byBhbmFseXplLlxuICogQHJldHVybnMgQWxsIHRoZSBwYXJzZWQgZmlsZSdzIG5hbWVkIGV4cG9ydHMuIERvZXMgX19ub3RfXyBmaWx0ZXIgZm9yIHZhbGlkIEhUVFAgbWV0aG9kIGV4cG9ydHMuXG4gKi9cbmV4cG9ydCBmdW5jdGlvbiBnZXROYW1lZEV4cG9ydHMoZmlsZTogc3RyaW5nLCBwYXJzZU9wdGlvbnM6IE9wdGlvbnMgPSBkZWZhdWx0UGFyc2VPcHRpb25zKSB7XG4gIGNvbnN0IGZpbGVDb250ZW50cyA9IGZzLnJlYWRGaWxlU3luYyhmaWxlLCBcInV0Zi04XCIpO1xuXG4gIGNvbnN0IHBhcnNlZEZpbGVDb250ZW50cyA9IHBhcnNlKGZpbGVDb250ZW50cywgcGFyc2VPcHRpb25zKTtcblxuICBjb25zdCBuYW1lZEV4cG9ydHMgPSBwYXJzZWRGaWxlQ29udGVudHMuYm9keVxuICAgIC5maWx0ZXIoKG5vZGUpOiBub2RlIGlzIE5hbWVkRXhwb3J0Tm9kZSA9PiBub2RlLnR5cGUgPT09IFwiRXhwb3J0TmFtZWREZWNsYXJhdGlvblwiKVxuICAgIC5mbGF0TWFwKChub2RlKSA9PiBub2RlLnNwZWNpZmllcnMubWFwKChzcGVjaWZpZXIpID0+IHNwZWNpZmllci5leHBvcnRlZC5uYW1lKSk7XG5cbiAgcmV0dXJuIG5hbWVkRXhwb3J0cztcbn1cbiIsICJjb25zdCBfX2luamVjdGVkX2ZpbGVuYW1lX18gPSBcIi9ob21lL2Fwb25pYS9Qcm9qZWN0cy90eXBlc2NyaXB0L3BldGVycG9ydGFsLWFwaS1uZXh0L3BhY2thZ2VzL2FudC1zdGFjay9zcmMvdXRpbHMvd2FpdC1mb3Itc3RhY2staWRsZS50c1wiO2NvbnN0IF9faW5qZWN0ZWRfZGlybmFtZV9fID0gXCIvaG9tZS9hcG9uaWEvUHJvamVjdHMvdHlwZXNjcmlwdC9wZXRlcnBvcnRhbC1hcGktbmV4dC9wYWNrYWdlcy9hbnQtc3RhY2svc3JjL3V0aWxzXCI7Y29uc3QgX19pbmplY3RlZF9pbXBvcnRfbWV0YV91cmxfXyA9IFwiZmlsZTovLy9ob21lL2Fwb25pYS9Qcm9qZWN0cy90eXBlc2NyaXB0L3BldGVycG9ydGFsLWFwaS1uZXh0L3BhY2thZ2VzL2FudC1zdGFjay9zcmMvdXRpbHMvd2FpdC1mb3Itc3RhY2staWRsZS50c1wiO2ltcG9ydCB7XG4gIENsb3VkRm9ybWF0aW9uQ2xpZW50LFxuICBEZXNjcmliZVN0YWNrc0NvbW1hbmQsXG4gIFN0YWNrU3RhdHVzLFxuICB3YWl0VW50aWxTdGFja0NyZWF0ZUNvbXBsZXRlLFxuICB3YWl0VW50aWxTdGFja0RlbGV0ZUNvbXBsZXRlLFxuICB3YWl0VW50aWxTdGFja1VwZGF0ZUNvbXBsZXRlLFxufSBmcm9tIFwiQGF3cy1zZGsvY2xpZW50LWNsb3VkZm9ybWF0aW9uXCI7XG5pbXBvcnQgeyBXYWl0ZXJDb25maWd1cmF0aW9uLCBXYWl0ZXJSZXN1bHQgfSBmcm9tIFwiQGF3cy1zZGsvdXRpbC13YWl0ZXJcIjtcblxuLyoqXG4gKiBXYWl0IGZvciBleGlzdGluZyBDbG91ZEZvcm1hdGlvbiBzdGFjayB0byBiZSBpbiBhbiBpZGxlIHN0YXRlLlxuICovXG5leHBvcnQgYXN5bmMgZnVuY3Rpb24gd2FpdEZvclN0YWNrSWRsZShcbiAgY2xvdWRGb3JtYXRpb25DbGllbnQ6IENsb3VkRm9ybWF0aW9uQ2xpZW50LFxuICBzdGFja05hbWU6IHN0cmluZ1xuKTogUHJvbWlzZTxXYWl0ZXJSZXN1bHQgfCB2b2lkPiB7XG4gIGNvbnN0IHN0YWNrQ29tbWFuZCA9IG5ldyBEZXNjcmliZVN0YWNrc0NvbW1hbmQoeyBTdGFja05hbWU6IHN0YWNrTmFtZSB9KTtcblxuICB0cnkge1xuICAgIGNvbnN0IHN0YWNrSW5mbyA9IGF3YWl0IGNsb3VkRm9ybWF0aW9uQ2xpZW50LnNlbmQoc3RhY2tDb21tYW5kKTtcblxuICAgIGNvbnN0IHN0YWNrU3RhdHVzID0gc3RhY2tJbmZvLlN0YWNrcz8uWzBdPy5TdGFja1N0YXR1cztcblxuICAgIGlmICghc3RhY2tTdGF0dXMpIHtcbiAgICAgIHJldHVybjtcbiAgICB9XG5cbiAgICBjb25zdCBwYXJhbXM6IFdhaXRlckNvbmZpZ3VyYXRpb248Q2xvdWRGb3JtYXRpb25DbGllbnQ+ID0ge1xuICAgICAgY2xpZW50OiBjbG91ZEZvcm1hdGlvbkNsaWVudCxcbiAgICAgIG1heFdhaXRUaW1lOiAxODAwLFxuICAgIH07XG5cbiAgICBzd2l0Y2ggKHN0YWNrU3RhdHVzKSB7XG4gICAgICBjYXNlIFN0YWNrU3RhdHVzLkNSRUFURV9JTl9QUk9HUkVTUzpcbiAgICAgICAgcmV0dXJuIGF3YWl0IHdhaXRVbnRpbFN0YWNrQ3JlYXRlQ29tcGxldGUocGFyYW1zLCB7IFN0YWNrTmFtZTogc3RhY2tOYW1lIH0pO1xuXG4gICAgICBjYXNlIFN0YWNrU3RhdHVzLlVQREFURV9JTl9QUk9HUkVTUzpcbiAgICAgICAgcmV0dXJuIGF3YWl0IHdhaXRVbnRpbFN0YWNrVXBkYXRlQ29tcGxldGUocGFyYW1zLCB7IFN0YWNrTmFtZTogc3RhY2tOYW1lIH0pO1xuXG4gICAgICBjYXNlIFN0YWNrU3RhdHVzLkRFTEVURV9JTl9QUk9HUkVTUzpcbiAgICAgICAgcmV0dXJuIGF3YWl0IHdhaXRVbnRpbFN0YWNrRGVsZXRlQ29tcGxldGUocGFyYW1zLCB7IFN0YWNrTmFtZTogc3RhY2tOYW1lIH0pO1xuXG4gICAgICBkZWZhdWx0OlxuICAgICAgICByZXR1cm47XG4gICAgfVxuICB9IGNhdGNoIHtcbiAgICByZXR1cm47XG4gIH1cbn1cbiJdLAogICJtYXBwaW5ncyI6ICI7QUFBc1csT0FBT0EsV0FBVTtBQUN2WCxTQUFTLG9CQUFvQjs7O0FDRHVXLE9BQU8sUUFBUTtBQUNuWixPQUFPLFVBQVU7QUEwR1YsU0FBUyxxQkFBcUIsV0FBNkI7QUFDaEUsU0FBTyxHQUNKLFlBQVksU0FBUyxFQUNyQixJQUFJLENBQUMsU0FBUyxLQUFLLEtBQUssV0FBVyxJQUFJLENBQUMsRUFDeEM7QUFBQSxJQUFRLENBQUMsb0JBQ1IsR0FBRyxTQUFTLGVBQWUsRUFBRSxZQUFZLElBQ3JDLHFCQUFxQixlQUFlLElBQ3BDO0FBQUEsRUFDTjtBQUNKOzs7QUNwSG9ZLE9BQU9DLFdBQVU7QUFFclosT0FBTyxnQkFBc0M7OztBQ0YyVSxPQUFPQyxTQUFRO0FBQ3ZZLE9BQU8sUUFBUTtBQUNmLE9BQU9DLFdBQVU7OztBQ0YyWCxPQUFPQyxTQUFRO0FBRTNaLFNBQVMsYUFBNEM7OztBQ0YrVjtBQUFBLEVBRWxaO0FBQUEsRUFDQTtBQUFBLEVBQ0E7QUFBQSxFQUNBO0FBQUEsRUFDQTtBQUFBLE9BQ0s7OztBTEZQLElBQU0scUJBQXFCO0FBRTNCLElBQU0sdUJBQXVCLHFCQUFxQixrQkFBa0I7QUFFcEUsSUFBTSxhQUFhLHFCQUNoQixPQUFPLENBQUMsU0FBU0MsTUFBSyxRQUFRLElBQUksTUFBTSxLQUFLLEVBQzdDLE9BQU8sQ0FBQyxTQUFTO0FBSWhCLFFBQU0sWUFBWUEsTUFBSyxRQUFRLElBQUk7QUFDbkMsUUFBTSxXQUFXQSxNQUFLLFNBQVMsTUFBTSxLQUFLO0FBQzFDLFNBQU8sYUFBYSxXQUFXLGNBQWM7QUFDL0MsQ0FBQyxFQUNBLElBQUksQ0FBQyxTQUFTQSxNQUFLLE1BQU0sSUFBSSxDQUFDLEVBQzlCLE9BQU8sQ0FBQyxzQkFBc0IsU0FBUztBQUN0QyxVQUFRLElBQUksRUFBRSxLQUFLLENBQUM7QUFDcEIsUUFBTSxPQUFPLEtBQUssU0FBUyxVQUN2QkEsTUFBSyxTQUFTLG9CQUFvQixLQUFLLEdBQUcsSUFDMUNBLE1BQUssS0FBS0EsTUFBSyxTQUFTLG9CQUFvQixLQUFLLEdBQUcsR0FBRyxLQUFLLElBQUk7QUFFcEUsdUJBQXFCLGNBQWMsTUFBTSxJQUFJLEtBQUs7QUFFbEQsU0FBTztBQUNULEdBQUcsQ0FBQyxDQUEyQjtBQUVqQyxJQUFPLHNCQUFRLGFBQWE7QUFBQSxFQUMxQixPQUFPO0FBQUEsSUFDTCxLQUFLO0FBQUEsSUFDTCxRQUFRO0FBQUEsSUFDUixlQUFlO0FBQUEsSUFDZixPQUFPO0FBQUEsSUFDUCxHQUFHO0FBQUEsRUFDTDtBQUFBLEVBQ0EsUUFBUTtBQUFBLEVBQ1IsUUFBUSxDQUFDLEtBQUs7QUFBQSxFQUNkLFdBQVc7QUFBQSxFQUNYLEtBQUs7QUFBQSxFQUNMLFdBQVc7QUFBQSxFQUNYLE9BQU87QUFBQSxFQUNQLE9BQU87QUFDVCxDQUFDOyIsCiAgIm5hbWVzIjogWyJwYXRoIiwgInBhdGgiLCAiZnMiLCAicGF0aCIsICJmcyIsICJwYXRoIl0KfQo=
