#!/usr/bin/env bash
. "$(dirname -- "$0")/_/husky.sh"

if git diff --cached --name-only --diff-filter=ACM | grep ts; then
  echo "Checking for TypeScript errors..."
  npx --no -- tsc -p . --noEmit
  npx --no -- tsc -p docs --noEmit
  npx --no -- tsc -p docs/cdk --noEmit
  echo "...none found."
fi
npx --no -- lint-staged
